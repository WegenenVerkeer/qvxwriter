apply plugin: 'groovy'
apply plugin:'application'
version = '1.1'
mainClassName = 'be.wegenenverkeer.qvx.QVXExportApp'

dependencies {

    compile(
            [group: 'org.codehaus.groovy', name: 'groovy', version: '2.0.5'],
            [group: 'org.codehaus.groovy', name: 'groovy-xml', version: '2.0.5'],
            [group: 'org.codehaus.groovy', name: 'groovy-sql', version: '2.0.5'],
            [group: 'commons-cli', name: 'commons-cli', version: '1.2']
    )

    runtime(
            [group: 'postgresql', name: 'postgresql', version: '8.4-702.jdbc4']
        )

}

sourceSets {
  main {
    groovy
  }
}


repositories {
    mavenCentral()
}

task uberjar(type: Jar, dependsOn:[':compileJava',':compileGroovy']) {

    from files(sourceSets.main.output.classesDir)
    from configurations.runtime.asFileTree.files.collect { zipTree(it) }

    manifest {
        attributes "Main-Class" : mainClassName
    }
}
